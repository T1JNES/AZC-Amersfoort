<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amersfoort locaties asielopvang – interactieve kaart (snel)</title>
  <!-- Preconnects for faster CDN/tile fetch -->
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://{s}.tile.openstreetmap.org" crossorigin>
  <!-- Leaflet CSS (SRI + crossorigin) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha512-p6Vwc9fX2gCFFoXWfBvYbA5xE4AvYVZlZTaZ5xRcmO0WwJbQnqU2YB5sJkUe1Z2R3y2mH3u6VQfI1r3bQGkG2w=="
    crossorigin="anonymous"
  />
  <style>
    html,body,#map{height:100%;margin:0;padding:0}
    .legend{background:#fff;padding:10px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.2)}
    .status-dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;vertical-align:middle}
    .notice{position:absolute;left:8px;bottom:8px;background:#fff;padding:6px 8px;border-radius:6px;font:12px/1.2 system-ui,sans-serif;box-shadow:0 1px 4px rgba(0,0,0,.15)}
  </style>
</head>
<body>
  <div id="map" role="region" aria-label="Kaart van locaties in Amersfoort"></div>
  <div class="notice" id="notice" hidden>Locaties laden…</div>

  <!-- Leaflet JS (SRI + crossorigin) -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha512-o9N1j/cEWLcdnWkXq3CJ4J1F7o2uJXzEmT4pDqF1QjK2r8kPXeR3VfVb1b8hY1vU7l2dYslWbJf8C7xkG3iG1Q=="
    crossorigin="anonymous"
    defer
  ></script>

  <script defer>
  // Data (keep identical across files for GitHub hosting)
  const entries = [{"address": "Hockeyveld Caraïben Vathorst 1, Amersfoort, Nederland", "category": "Wenselijk (beoogde azc-locaties)", "toelichting": "Gemeente is eigenaar; bestemmingswijziging mogelijk."}, {"address": "Reinaartpad 1, Amersfoort, Nederland", "category": "Wenselijk (beoogde azc-locaties)", "toelichting": "Gemeente is eigenaar; bestemmingswijziging mogelijk."}, {"address": "Euroweg 99, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Bedrijventerrein bestemming behouden."}, {"address": "Barchman Wuytierslaan 55, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Klooster wordt gehandhaafd."}, {"address": "De Nieuwe Poort 20, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Hotel blijft; geen aanleiding om te sluiten."}, {"address": "Gasthuislaan, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Parkeerterrein nodig en onderdeel stedelijke groenstructuur."}, {"address": "Koperhorst 275, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Verzorgingshuis De Koperhorst nodig voor eigen doelgroep."}, {"address": "Lobelius-Serre 1-16, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Niet wenselijk om sociale huurwoningen te onttrekken/slopen."}, {"address": "Nijverheidsweg-Noord 83, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Ligt op bedrijventerrein; grote investeringen nodig."}, {"address": "Schothorsterlaan 21, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Het Groene Huis en functie in omgeving behouden."}, {"address": "Stichtse Rotonde 11, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Hotel belangrijk voor economie/werkgelegenheid."}, {"address": "Liendertsedreef 53, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Volkstuinen verplaatsen onwenselijk; onderdeel groenstructuur."}, {"address": "Wevershoofstraat 157, Amersfoort, Nederland", "category": "Niet wenselijk: behoud huidige bestemming", "toelichting": "Voorkeur behoud huidige bestemming; technische problemen gebouw."}, {"address": "Middelhoefseweg, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Groene hoek ten zuiden ambulancepost; voorkeur andere bestemming."}, {"address": "Kamp 82, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Kosmik/De IJsmakerij; eigendom Alliantie; eerder voor andere doelgroepen."}, {"address": "Leeuwendalersplein 11-12, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Zorgcomplex; te lage capaciteit voor asiel; evt. andere doelgroepen."}, {"address": "Balladelaan 208, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Lidl herontwikkeling met woningen; beperkte buitenruimte."}, {"address": "Barchman Wuytierslaan 51, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Onderdeel woningbouwontwikkeling Mgr. Blom."}, {"address": "Barchman Wuytierslaan 81, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Vakantiepark; reguliere woningbouw voorzien."}, {"address": "Belijnhof 1-12, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Omnia vervangt woningen; locatie behouden voor reguliere woningbouw."}, {"address": "Geldersestraat 100, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Tijdelijk wonen (De Pionier); ontwikkeling Kop van Isselt."}, {"address": "Olympus 18, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Hockeyvelden in beeld voor andere ontwikkelingen."}, {"address": "Plotterweg 26, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Alliantie bouwt hier woningen; oplevering eind 2026."}, {"address": "Schothorsterlaan 88, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "In beeld voor kleinschalige groene ontwikkeling."}, {"address": "De Schans 17, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Braakliggend perceel; andere woningbouwontwikkeling in beeld."}, {"address": "De Schans 21, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Braakliggend perceel; andere woningbouwontwikkeling in beeld."}, {"address": "Stadsring 157-165, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Kantoor getransformeerd naar reguliere woningen."}, {"address": "Stadsring 198, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Amicitia; onderdeel Europan; ruimtes verhuurd; geen tijdelijke mogelijkheden."}, {"address": "Stadsring 201, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Plan voor transformatie naar reguliere woningen."}, {"address": "Sortie02N, Amersfoort, Nederland", "category": "Niet wenselijk: andere ontwikkelingen/doelgroepen", "toelichting": "Zorgconcept in voorbereiding binnen huidige bestemming."}, {"address": "Angelinapolder 2, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Groene Zoom; geen extra ontwikkelingen gewenst."}, {"address": "Achterhoekerweg 8-10, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Vathorst-Noord/Over de Laak; geen bouw gewenst m.u.v. Skaeve Huse."}, {"address": "Bombiezen-Amendijk, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Groene Zoom; geen extra ontwikkelingen gewenst."}, {"address": "Catharina van Rennespad 38, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Ten koste van wijkgroen met veel bomen."}, {"address": "Dorresteinseweg - Robijnseweg, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Ten koste van wijkgroen met veel bomen."}, {"address": "Genestetlaan 7, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Ecologische verbindingszone; afstand tot voorzieningen groot."}, {"address": "Genestetlaan 9, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Ecologische verbindingszone; afstand tot voorzieningen groot."}, {"address": "Kop van Schothorst, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Veel groen en lastige ontsluiting."}, {"address": "Over de Laak, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Buitengebied; geen (woning)bouw gewenst m.u.v. Skaeve Huse."}, {"address": "Weg van de Vrijheid, Amersfoort, Nederland", "category": "Niet wenselijk: behoud groen/ecologie/buitengebied", "toelichting": "Ten koste van buurtgroen."}, {"address": "Amersfoortsestraat 1-17, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Ligging bij op-/afrit snelweg."}, {"address": "Havenweg 42, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Midden op de Isselt; geluidscontouren."}, {"address": "De Heuvel, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Knelpunten geluid/luchtkwaliteit/externe veiligheid."}, {"address": "Heiligenbergerweg 203A, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Naast snelweg."}, {"address": "Magnesiumweg 4, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Midden op de Isselt; geluidscontouren."}, {"address": "Nijverheidsweg-Noord 49, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Midden op de Isselt; geluidscontouren."}, {"address": "Nijverheidsweg-Noord 60-99, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Geluidgezoneerd industrieterrein."}, {"address": "Xenonweg 27, Amersfoort, Nederland", "category": "Niet wenselijk: te hoge geluidswaarden", "toelichting": "Westelijk deel Isselt; geluid."}, {"address": "Softwareweg 1, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Focus op onderwijs/werk, niet wonen."}, {"address": "Inputplein 1, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Cruciaal in herontwikkeling; supermarket/bedrijvigheid beoogd."}, {"address": "Netwerklaan 500, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Cruciale schakel in stedenbouwkundige structuur."}, {"address": "Hardwareweg 11, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Focus onderwijs/werk; ingeklemd tussen spoor/weg."}, {"address": "Lichtpenweg 6, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Jongerenhuisvesting t/m 2028; evt. heroverwegen na 2028."}, {"address": "Printerweg 6, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Beoogde verbindingsweg over plot; geen permanente transformatie."}, {"address": "Terminalweg 36, Amersfoort, Nederland", "category": "Niet wenselijk: transformatie Hoefkwartier", "toelichting": "Bedrijventerrein; multi-tenant verhuur beoogd."}, {"address": "Laakboulevard 412, Amersfoort, Nederland", "category": "Niet wenselijk: gebrek aan buitenruimte", "toelichting": "DOK12; tekort aan gezamenlijke buitenruimte."}, {"address": "Westsingel 41, Amersfoort, Nederland", "category": "Niet wenselijk: gebrek aan buitenruimte", "toelichting": "GGZ Centraal; beter geschikt voor andere doelgroepen."}, {"address": "Utrechtseweg 225, Amersfoort, Nederland", "category": "Niet wenselijk: te duur / niet langdurig beschikbaar", "toelichting": "Amrâth Berghotel; te duur bevonden door COA."}, {"address": "Tesselschadelaan 4, Amersfoort, Nederland", "category": "Niet wenselijk: te duur / niet langdurig beschikbaar", "toelichting": "Met PC Hooftlaan 3; alleen tijdelijk verhuur; investering te groot."}, {"address": "PC Hooftlaan 3, Amersfoort, Nederland", "category": "Niet wenselijk: te duur / niet langdurig beschikbaar", "toelichting": "Alleen tijdelijk verhuur; investering te groot."}, {"address": "Forel 6-12, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Te klein voor regulier; inmiddels niet beschikbaar."}, {"address": "Hendrik van Viandenstraat 17, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Te klein."}, {"address": "Utrechtseweg 33, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Oud KPN-gebouw; te klein en onvoldoende buitenruimte."}, {"address": "Verdistraat 79, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Gemeentewerf; te klein voor volwaardig azc."}, {"address": "Hogeweg 28-48, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Diverse panden; te klein en in gebruik."}, {"address": "Daam Fockemalaan 24, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Woonhuis; te klein/veel bomen."}, {"address": "Fazantenstraat, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Te klein; geluidsknelpunten spoor; ecologische verbinding."}, {"address": "Puntenburgerlaan 402, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Muziekvereniging Hosanna; te klein; veel bomen/groenstructuur."}, {"address": "Nijkerkerstraat 31, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Braak; binnen vergunning Omnia had COA geen passende doelgroep."}, {"address": "Nijkerkerstraat 33, Amersfoort, Nederland", "category": "Kan niet: te klein", "toelichting": "Braak; binnen vergunning Omnia had COA geen passende doelgroep."}, {"address": "Amersfoortsestraat 30, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Perceel reeds verkocht."}, {"address": "Astronaut 12, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "In gebruik; bedrijventerrein; niet wenselijk."}, {"address": "Laurens Costerplein 14, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Eengezinswoning; te klein; verbouwd tot reguliere woningen."}, {"address": "Coninckstraat 15, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Hotel De Tabaksplant; niet meer beschikbaar; ook gering van omvang."}, {"address": "Hooglandseweg-Noord 55, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Voormalig Element/Taalschool; alleen zeer kort tijdelijk; zoeken lange termijn."}, {"address": "Euroweg 25, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Bedrijfspand verhuurd en in gebruik."}, {"address": "Hardwareweg 7a, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Aangekocht door Atelier D’Orthopedie."}, {"address": "Havenweg 23, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Syntus busstalling; niet beschikbaar; ligging Isselt + geluidscontouren."}, {"address": "Laan van Duurzaamheid, Amersfoort, Nederland", "category": "Kan niet: niet meer beschikbaar", "toelichting": "Perceel met woningbouw ontwikkeld; niet meer van toepassing."}, {"address": "De Brand, Amersfoort, Nederland", "category": "Huidige opvanglocaties", "toelichting": "Tijdelijke opvang azc (154 plekken)."}, {"address": "Hardwareweg 6, Amersfoort, Nederland", "category": "Huidige opvanglocaties", "toelichting": "Kantoor; opvang Oekraïners."}, {"address": "Plotterweg 31-33, Amersfoort, Nederland", "category": "Huidige opvanglocaties", "toelichting": "Het Plot (Monoma); in gebruik."}, {"address": "Barchman Wuytierslaan, Amersfoort, Nederland", "category": "Huidige opvanglocaties", "toelichting": "AZC met 300 vaste en 300 tijdelijke plekken; tijdelijke maken plaats voor woningbouw; +100 permanente."}];

  // Optional: pre-geocode coordinates to avoid slow client-side geocoding.
  // Provide a coordsByAddress.js alongside this file with:
  //   window.coordsByAddress = { "Address, City, Country": [lat, lon], ... }
  // If present, we'll use it; if not, we fall back to a polite, rate-limited geocoder.
  window.coordsByAddress = (window.coordsByAddress || {});

  function colorFor(cat) {
    if (cat.startsWith("Wenselijk")) return "#2ca02c";
    if (cat.startsWith("Niet wenselijk: te hoge geluidswaarden")) return "#d62728";
    if (cat.startsWith("Niet wenselijk: gebrek")) return "#ff7f0e";
    if (cat.startsWith("Niet wenselijk: behoud groen")) return "#1f77b4";
    if (cat.startsWith("Niet wenselijk: behoud")) return "#9467bd";
    if (cat.startsWith("Niet wenselijk: andere")) return "#8c564b";
    if (cat.startsWith("Niet wenselijk: te duur")) return "#e377c2";
    if (cat.startsWith("Niet wenselijk: transformatie Hoefkwartier")) return "#17becf";
    if (cat.startsWith("Kan niet: te klein")) return "#7f7f7f";
    if (cat.startsWith("Kan niet: niet meer beschikbaar")) return "#bcbd22";
    if (cat.startsWith("Huidige opvanglocaties")) return "#2ca02c";
    return "#555";
  }

  // Initialize map
  const map = L.map('map', {
    preferCanvas: true, // faster many circle markers
    zoomControl: true
  }).setView([52.156, 5.387], 12);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    detectRetina: true,
    updateWhenIdle: true,
    keepBuffer: 4,
    attribution: '&copy; OpenStreetMap-bijdragers'
  }).addTo(map);

  const layer = L.layerGroup().addTo(map);

  // Simple, polite geocoder with throttling to respect OSM Nominatim usage
  async function geocodeAddress(addr) {
    const url = new URL('https://nominatim.openstreetmap.org/search');
    url.searchParams.set('q', addr);
    url.searchParams.set('format', 'json');
    url.searchParams.set('limit', '1');
    url.searchParams.set('addressdetails', '0');
    const r = await fetch(url, { headers: { 'Accept-Language': 'nl' } });
    const arr = await r.json();
    return arr[0] ? [parseFloat(arr[0].lat), parseFloat(arr[0].lon)] : null;
  }

  // Throttle helper (1 request / 1100ms)
  const wait = ms => new Promise(res => setTimeout(res, ms));

  (async function render() {
    const notice = document.getElementById('notice');
    const bounds = L.latLngBounds();
    let miss = 0;

    // First pass: add markers that already have precomputed coords
    for (const e of entries) {
      const hit = window.coordsByAddress[e.address];
      if (hit) {
        const color = colorFor(e.category);
        L.circleMarker(hit, { radius: 7, color, fillColor: color, fillOpacity: .85 })
          .bindPopup(`<b>${e.address}</b><br/><i>${e.category}</i><br/>${e.toelichting || ""}`)
          .addTo(layer);
        bounds.extend(hit);
      } else {
        miss++;
      }
    }

    if (bounds.isValid()) map.fitBounds(bounds.pad(.1));

    if (miss > 0) {
      // Show notice and do polite, incremental geocoding (fallback)
      notice.hidden = false;
      notice.textContent = `Locaties laden… (${miss} te geocoderen)`;

      let count = 0;
      for (const e of entries) {
        if (window.coordsByAddress[e.address]) continue;
        const coords = await geocodeAddress(e.address);
        await wait(1100); // throttle
        if (!coords) continue;
        window.coordsByAddress[e.address] = coords;
        const color = colorFor(e.category);
        L.circleMarker(coords, { radius: 7, color, fillColor: color, fillOpacity: .85 })
          .bindPopup(`<b>${e.address}</b><br/><i>${e.category}</i><br/>${e.toelichting || ""}`)
          .addTo(layer);
        bounds.extend(coords);
        if (bounds.isValid()) map.fitBounds(bounds.pad(.1));
        count++;
        notice.textContent = `Locaties laden… (${miss - count} resterend)`;
      }
      notice.hidden = true;
      console.warn('Tip: voeg een coordsByAddress.js toe met vooraf bepaalde coördinaten voor maximale snelheid.');
    }

    // Legend
    const legend = L.control({ position: 'topright' });
    legend.onAdd = function() {
      const div = L.DomUtil.create('div', 'legend');
      const cats = [
        "Wenselijk (beoogde azc-locaties)",
        "Niet wenselijk: behoud huidige bestemming",
        "Niet wenselijk: andere ontwikkelingen/doelgroepen",
        "Niet wenselijk: behoud groen/ecologie/buitengebied",
        "Niet wenselijk: te hoge geluidswaarden",
        "Niet wenselijk: transformatie Hoefkwartier",
        "Niet wenselijk: gebrek aan buitenruimte",
        "Niet wenselijk: te duur / niet langdurig beschikbaar",
        "Kan niet: te klein",
        "Kan niet: niet meer beschikbaar",
        "Huidige opvanglocaties"
      ];
      let html = '<b>Legenda</b><br/>';
      for (const c of cats) html += `<div><span class="status-dot" style="background:${colorFor(c)}"></span>${c}</div>`;
      div.innerHTML = html;
      return div;
    };
    legend.addTo(map);
  })();
  </script>

  <!-- Optional: drop a coordsByAddress.js file next to this HTML for instant loads -->
  <script src="./coordsByAddress.js" defer></script>
</body>
</html>
